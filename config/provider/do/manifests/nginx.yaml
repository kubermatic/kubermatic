apiVersion: v1
kind: Pod
metadata:
  name: nginx
  namespace: kube-system
spec:
  hostNetwork: true
  containers:
  - name: nginx
    image: nginx:1.9.11
    ports:
    - containerPort: 443
    volumeMounts:
    - name: nginx-conf
      mountPath: /etc/nginx/nginx.conf
      readOnly: true
    - name: proxy-ssl-conf
      mountPath: /etc/nginx/conf.d/proxy-ssl.conf
      readOnly: true
    - name: secrets
      mountPath: /etc/secrets
      readOnly: true
  volumes:
    - name: nginx-conf
      hostPath:
        path: /var/run/nginx/nginx.conf
    - name: proxy-ssl-conf
      hostPath:
        path: /var/run/nginx/proxy-ssl.conf
    - name: secrets
      hostPath:
        path: /var/run/nginx/secrets
