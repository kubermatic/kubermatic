# Copyright 2022 The Kubermatic Kubernetes Platform contributors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# the address of the LDAP server, can use ldaps for secure communication
address: ldap://localhost:10389

mapping:
  # This mapping mode is used when a dedicated objectClass exists
  # to represent KKP groups, and this objectClass has the members
  # defined as its attributes.
  grouped:
    # the root node from which to start the search for persons
    baseDN: dc=pawnee,dc=gov

    # the attribute in each person that contains the e-mail address
    emailAttribute: mail

    # the attribute that contains the group's name
    groupNameAttribute: cn

    # the attribute that contains the person's name
    personNameAttribute: cn

    # the attribute that contains the DN of persons assigned to this group
    # (can be used multiple times)
    memberAttribute: member

    # the query to use to find all relevant groups (for each group, the list
    # of members is then fetched individually)
    query: '(objectClass=Group)'
