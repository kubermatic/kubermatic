---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
    kubermatic.k8c.io/location: master,seed
  name: presets.kubermatic.k8c.io
spec:
  group: kubermatic.k8c.io
  names:
    kind: Preset
    listKind: PresetList
    plural: presets
    singular: preset
  scope: Cluster
  versions:
    - name: v1
      schema:
        openAPIV3Schema:
          description: Presets are preconfigured cloud provider credentials that can be applied to new clusters. This frees end users from having to know the actual credentials used for their clusters.
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: Presets specifies default presets for supported providers.
              properties:
                aks:
                  description: Access data for Azure Kubernetes Service(AKS).
                  properties:
                    clientID:
                      description: The service principal used to access Azure.
                      type: string
                    clientSecret:
                      description: The client secret corresponding to the given service principal.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    subscriptionID:
                      description: The Azure Subscription used for the user cluster.
                      type: string
                    tenantID:
                      description: The Azure Active Directory Tenant used for the user cluster.
                      type: string
                  required:
                    - clientID
                    - clientSecret
                    - subscriptionID
                    - tenantID
                  type: object
                alibaba:
                  description: Access data for Alibaba Cloud.
                  properties:
                    accessKeyID:
                      description: The Access Key ID used to authenticate against Alibaba.
                      type: string
                    accessKeySecret:
                      description: The Access Key Secret used to authenticate against Alibaba.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                  required:
                    - accessKeyID
                    - accessKeySecret
                  type: object
                anexia:
                  description: Access data for Anexia.
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    token:
                      description: Token is used to authenticate with the Anexia API.
                      type: string
                  required:
                    - token
                  type: object
                aws:
                  description: Access data for Amazon Web Services(AWS) Cloud.
                  properties:
                    accessKeyID:
                      description: The Access key ID used to authenticate against AWS.
                      type: string
                    assumeRoleARN:
                      description: Defines the ARN for an IAM role that should be assumed when handling resources on AWS. It will be used to acquire temporary security credentials using an STS AssumeRole API operation whenever creating an AWS session.
                      type: string
                    assumeRoleExternalID:
                      description: An arbitrary string that may be needed when calling the STS AssumeRole API operation. Using an external ID can help to prevent the "confused deputy problem".
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    instanceProfileName:
                      description: Instance profile to use. This can be configured, but if left empty will be automatically filled in during reconciliation.
                      type: string
                    roleARN:
                      description: ARN to use. This can be configured, but if left empty will be automatically filled in during reconciliation.
                      type: string
                    routeTableID:
                      description: Route table to use. This can be configured, but if left empty will be automatically filled in during reconciliation.
                      type: string
                    secretAccessKey:
                      description: The Secret Access Key used to authenticate against AWS.
                      type: string
                    securityGroupID:
                      description: Security group to use. This can be configured, but if left empty will be automatically filled in during reconciliation.
                      type: string
                    vpcID:
                      description: AWS VPC to use. Must be configured.
                      type: string
                  required:
                    - accessKeyID
                    - secretAccessKey
                  type: object
                azure:
                  description: Access data for Microsoft Azure Cloud.
                  properties:
                    clientID:
                      description: The service principal used to access Azure.
                      type: string
                    clientSecret:
                      description: The client secret corresponding to the given service principal.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    loadBalancerSKU:
                      description: LoadBalancerSKU sets the LB type that will be used for the Azure cluster, possible values are "basic" and "standard", if empty, "basic" will be used
                      enum:
                        - standard
                        - basic
                      type: string
                    resourceGroup:
                      description: The resource group that will be used to look up and create resources for the cluster in. If set to empty string at cluster creation, a new resource group will be created and this field will be updated to the generated resource group's name.
                      type: string
                    routeTable:
                      description: The name of a route table associated with the subnet referenced by `subnet`. If set to empty string at cluster creation, a new route table will be created and this field will be updated to the generated route table's name. If no subnet is defined at cluster creation, this field should be empty as well.
                      type: string
                    securityGroup:
                      description: The name of a security group associated with the subnet referenced by `subnet`. If set to empty string at cluster creation, a new security group will be created and this field will be updated to the generated security group's name. If no subnet is defined at cluster creation, this field should be empty as well.
                      type: string
                    subnet:
                      description: The name of a subnet in the VNet referenced by `vnet`. If set to empty string at cluster creation, a new subnet will be created and this field will be updated to the generated subnet's name. If no VNet is defined at cluster creation, this field should be empty as well.
                      type: string
                    subscriptionID:
                      description: The Azure Subscription used for the user cluster.
                      type: string
                    tenantID:
                      description: The Azure Active Directory Tenant used for the user cluster.
                      type: string
                    vnet:
                      description: The name of the VNet resource used for setting up networking in. If set to empty string at cluster creation, a new VNet will be created and this field will be updated to the generated VNet's name.
                      type: string
                    vnetResourceGroup:
                      description: 'Optional: Defines a second resource group that will be used for VNet related resources instead. If left empty, NO additional resource group will be created and all VNet related resources use the resource group defined by `resourceGroup`.'
                      type: string
                  required:
                    - clientID
                    - clientSecret
                    - loadBalancerSKU
                    - subscriptionID
                    - tenantID
                  type: object
                digitalocean:
                  description: Access data for DigitalOcean.
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    token:
                      description: Token is used to authenticate with the DigitalOcean API.
                      type: string
                  required:
                    - token
                  type: object
                eks:
                  description: Access data for Amazon Elastic Kubernetes Service(EKS).
                  properties:
                    accessKeyID:
                      description: The Access key ID used to authenticate against AWS.
                      type: string
                    assumeRoleARN:
                      description: 'Defines the ARN for an IAM role that should be assumed when handling resources on AWS. It will be used to acquire temporary security credentials using an STS AssumeRole API operation whenever creating an AWS session. required: false'
                      type: string
                    assumeRoleExternalID:
                      description: 'An arbitrary string that may be needed when calling the STS AssumeRole API operation. Using an external ID can help to prevent the "confused deputy problem". required: false'
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    secretAccessKey:
                      description: The Secret Access Key used to authenticate against AWS.
                      type: string
                  required:
                    - accessKeyID
                    - secretAccessKey
                  type: object
                enabled:
                  description: Only enabled presets will be available in the KKP dashboard.
                  type: boolean
                fake:
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    token:
                      type: string
                  required:
                    - token
                  type: object
                gcp:
                  description: Access data for Google Cloud Platform(GCP).
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    network:
                      type: string
                    serviceAccount:
                      description: ServiceAccount is the Google Service Account (JSON format), encoded with base64.
                      type: string
                    subnetwork:
                      type: string
                  required:
                    - serviceAccount
                  type: object
                gke:
                  description: Access data for Google Kubernetes Engine(GKE).
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    serviceAccount:
                      type: string
                  required:
                    - serviceAccount
                  type: object
                hetzner:
                  description: Access data for Hetzner.
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    network:
                      description: Network is the pre-existing Hetzner network in which the machines are running. While machines can be in multiple networks, a single one must be chosen for the HCloud CCM to work. If this is empty, the network configured on the datacenter will be used.
                      type: string
                    token:
                      description: Token is used to authenticate with the Hetzner API.
                      type: string
                  required:
                    - token
                  type: object
                kubevirt:
                  description: Access data for KuberVirt.
                  properties:
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    kubeconfig:
                      description: Kubeconfig is the cluster's kubeconfig file, encoded with base64.
                      type: string
                  required:
                    - kubeconfig
                  type: object
                nutanix:
                  description: Access data for Nutanix.
                  properties:
                    clusterName:
                      description: The name of the Nutanix cluster to which the resources and nodes are deployed to.
                      type: string
                    csiEndpoint:
                      description: CSIEndpoint to access Nutanix Prism Element for CSI driver.
                      type: string
                    csiPassword:
                      description: Prism Element Password for CSI driver.
                      type: string
                    csiPort:
                      description: CSIPort to use when connecting to the Nutanix Prism Element endpoint (defaults to 9440).
                      format: int32
                      type: integer
                    csiUsername:
                      description: Prism Element Username for CSI driver.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    password:
                      description: Password corresponding to the provided user.
                      type: string
                    projectName:
                      description: 'Optional: Nutanix project to use. If none is given, no project will be used.'
                      type: string
                    proxyURL:
                      description: 'Optional: To configure a HTTP proxy to access Nutanix Prism Central.'
                      type: string
                    username:
                      description: Username that is used to access the Nutanix Prism Central API.
                      type: string
                  required:
                    - clusterName
                    - password
                    - username
                  type: object
                openstack:
                  description: Access data for OpenStack.
                  properties:
                    applicationCredentialID:
                      type: string
                    applicationCredentialSecret:
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    domain:
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    floatingIPPool:
                      description: FloatingIPPool holds the name of the public network The public network is reachable from the outside world and should provide the pool of IP addresses to choose from.
                      type: string
                    network:
                      description: Network holds the name of the internal network When specified, all worker nodes will be attached to this network. If not specified, a network, subnet & router will be created.
                      type: string
                    password:
                      type: string
                    project:
                      description: Project, formally known as tenant.
                      type: string
                    projectID:
                      description: ProjectID, formally known as tenantID.
                      type: string
                    routerID:
                      type: string
                    securityGroups:
                      type: string
                    subnetID:
                      type: string
                    useToken:
                      type: boolean
                    username:
                      type: string
                  type: object
                packet:
                  description: Access data for Packet Cloud.
                  properties:
                    apiKey:
                      type: string
                    billingCycle:
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    projectID:
                      type: string
                  required:
                    - apiKey
                    - projectID
                  type: object
                projects:
                  description: Projects is a list of project IDs that this preset is limited to.
                  items:
                    type: string
                  type: array
                requiredEmails:
                  description: RequiredEmails is a list of e-mail addresses that this presets should be restricted to. Each item in the list can be either a full e-mail address or just a domain name. This restriction is only enforced in the KKP API.
                  items:
                    type: string
                  type: array
                vmwareclouddirector:
                  description: Access data for VMware Cloud Director.
                  properties:
                    apiToken:
                      description: The VMware Cloud Director API token.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    organization:
                      description: The name of organization to use.
                      type: string
                    ovdcNetwork:
                      description: The name of organizational virtual data center network that will be associated with the VMs and vApp.
                      type: string
                    password:
                      description: The VMware Cloud Director user password.
                      type: string
                    username:
                      description: The VMware Cloud Director user name.
                      type: string
                    vdc:
                      description: The organizational virtual data center.
                      type: string
                  required:
                    - organization
                    - ovdcNetwork
                    - vdc
                  type: object
                vsphere:
                  description: Access data for vSphere.
                  properties:
                    basePath:
                      description: BasePath configures a vCenter folder path that KKP will create an individual cluster folder in. If it's an absolute path, the RootPath configured in the datacenter will be ignored. If it is a relative path, the BasePath part will be appended to the RootPath to construct the full path. For both cases, the full folder structure needs to exist. KKP will only try to create the cluster folder.
                      type: string
                    datacenter:
                      description: If datacenter is set, this preset is only applicable to the configured datacenter.
                      type: string
                    datastore:
                      description: Datastore to be used for storing virtual machines and as a default for dynamic volume provisioning, it is mutually exclusive with DatastoreCluster.
                      type: string
                    datastoreCluster:
                      description: DatastoreCluster to be used for storing virtual machines, it is mutually exclusive with Datastore.
                      type: string
                    enabled:
                      description: Only enabled presets will be available in the KKP dashboard.
                      type: boolean
                    networks:
                      description: List of vSphere networks.
                      items:
                        type: string
                      type: array
                    password:
                      description: The vSphere user password.
                      type: string
                    resourcePool:
                      description: ResourcePool is used to manage resources such as cpu and memory for vSphere virtual machines. The resource pool should be defined on vSphere cluster level.
                      type: string
                    username:
                      description: The vSphere user name.
                      type: string
                    vmNetName:
                      description: 'Deprecated: Use networks instead.'
                      type: string
                  required:
                    - password
                    - username
                  type: object
              type: object
          required:
            - spec
          type: object
      served: true
      storage: true
